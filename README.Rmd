---
title: "evently: simulation, fitting of Hawkes processes"
output:
  github_document:
    pandoc_args: --webtex
---
## Introduction

This package is designed for simulating and fitting the Hawkes processes and the HawkesN processes with several options of kernel functions. Currently, it assumes univariate processes without background event rates. Prior knowledge about the models is assumed in the following tutorial and please refer to [1] and [2] for details about the models.

```{r}
library(evently)
```

## Installation and dependencies
Several dependencies are required for running this package:

  - **poweRlaw**: r package, will be installed while installing the evently package
  - **AMPL**: download the demo version from https://ampl.com/try-ampl/download-a-free-demo/
  - **Ipopt**: compile from the source code here https://www.coin-or.org/Ipopt/documentation/ so that the linear solver ma57 will be available.
 
Install the package by executing
```{r, eval=FALSE}
if (!require('devtools')) install.packages('devtools')
devtools::install_github('qykong/evently')
```

## Available models

TODO: show a table of models here with equations?

## Simulating cascades

Let's first simulate some event cascades.
```{r}
set.seed(2)
sim_no <- 100
sims <- lapply(seq(sim_no), function(i) generate_hawkes_event_series(c(K = 0.9, theta = 1), model_type = 'EXP', M = generate_user_influence(1), Tmax = 5))

head(sims[[1]])
```

## Fitting a model on data

We can then fit on cascades.
```{r}
fitted_model <- fit_series(sims, model_type = 'EXP', observation_time = 5, cores = 10)

fitted_model
```

## Acknowledgement

The development of this package is supported by the Green Policy grant from the National Security College, Crawford School, ANU.

## Reference

[1] Rizoiu, M. A., Lee, Y., Mishra, S., & Xie, L. (2017, December). Hawkes processes for events in social media. In Frontiers of Multimedia Research (pp. 191-218). Association for Computing Machinery and Morgan & Claypool.

[2] Rizoiu, M. A., Mishra, S., Kong, Q., Carman, M., & Xie, L. (2018, April). SIR-Hawkes: Linking epidemic models and Hawkes processes to model diffusions in finite populations. In Proceedings of the 2018 World Wide Web Conference (pp. 419-428). International World Wide Web Conferences Steering Committee.

[3] Kong, Q., Rizoiu, M. A., & Xie, L. (2019). Modeling Information Cascades with Self-exciting Processes via Generalized Epidemic Models. arXiv preprint arXiv:1910.05451.
